## before Chrome

> Browser

1. rendering engine
2. UI
3. networking
4. storage
5. image decoding
6. plugins

## Chrome at launch

> IPC(inter-process communication)

- message passing between processes, with shared memory for large data
- usually between processes of different privileges, so need security review

> multi-process architecture

1. Browser( UI, Networking, storage)
2. Renderer(WebKit)
3. Plugin(NP API)

---

chrome search input (Browser)

video palyer(Plugin)

page (Renderer)

## why Multi-Process?

- can't write perfect code
- security : untrusted web content shouldn't use exploits to access file system
- speed : misbehaving tabs shouldn't impact other tabs or the browser
- stability : crashed should only affect the tab and not other tabs or the browser

## Sandboxing

- untrusted data can be used to exploit bugs and run arbitrary code
- as we moved from simple HTML pages to web apps, more code to exploit
- run untrusted web content in a locked-down process where it doesn't have access to file system, OS calls
- exact mechanism to lock down a process is platform-specific
- multiple levels of sandboxing depending on process type

## Rendereer Process

- where data from the web is handled, e.g.
  - parsing
  - layout
  - executing JavaScript
  - decoding
- completely sandboxed to prevent bugs from gaining access to user data and or installing malware

## Plugins Process

- had to be unsandboxed since plugins were written assuming full access

## Browser Process

- central coordinator
- owns browser state such as profile data, settings etc...
- draws UI
- handles networking
- can't trust renderer

## Chrome Today(2019)

> diff layers

- GPU(compositing , scrolling)
- Browser(UI, Networking, storage)
- Utility
- Renderer(Blink)
- Plugin(Pepper)
- Extension

## GPU Process

- machines with powerful GPUS were becoming widespread
- web platform features like WebGL meant that we'd have to make expensive GPU readback to render a page
- large project to offload compositing and scrolling to GPU
- separate process for stability and security

## Extension Process

> we wanted to extension system to work well with our core principles

- speed & stability : didn't want badly written extension code to adversely affect pages
- security : wanted extensions to have limited access to browser, page and system
- simplicity : extensions installed and uninstalled without restart
